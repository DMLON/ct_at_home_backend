(this["webpackJsonpfront-ct"]=this["webpackJsonpfront-ct"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var r,c,a,s,o,i,l,u,d=n(1),j=n.n(d),b=n(38),p=n.n(b),h=n(6),x=n(5),m=n(12),f=(n(46),n(47),n(2)),O=n.n(f),v=n(25),g=n(4),N=n(3),y=n(15),k=function e(){Object(y.a)(this,e)};k.ProductController=(c=r=function e(){Object(y.a)(this,e)},r.endpoint=(k.baseEndpoint="")+"/api/products",r.getAllProducts=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(r.endpoint,{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if(200!==(t=e.sent).status){e.next=10;break}return e.next=7,t.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),r.getProduct=function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(r.endpoint+"/"+t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),r.createProduct=function(){var e=Object(g.a)(O.a.mark((function e(t){var n,c,a,s,o,i,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,c=t.description,a=t.code,s=t.photo,o=t.price,i=t.stock,e.prev=1,e.next=4,fetch(r.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:n,description:c,code:a,photo:s,price:o,stock:i})});case 4:if(200!==(l=e.sent).status){e.next=11;break}return e.next=8,l.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=null;case 12:return e.abrupt("return",e.t0);case 15:throw e.prev=15,e.t1=e.catch(1),e.t1;case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),r.updateProduct=function(){var e=Object(g.a)(O.a.mark((function e(t){var n,c,a,s,o,i,l,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,c=t.name,a=t.description,s=t.code,o=t.photo,i=t.price,l=t.stock,e.prev=1,e.next=4,fetch(r.endpoint+"/"+n,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:n,name:c,description:a,code:s,photo:o,price:i,stock:l})});case 4:if(200!==(u=e.sent).status){e.next=11;break}return e.next=8,u.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=null;case 12:return e.abrupt("return",e.t0);case 15:throw e.prev=15,e.t1=e.catch(1),e.t1;case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),r.deleteProduct=function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(r.endpoint+"/"+t,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),c),k.CartController=(s=a=function e(){Object(y.a)(this,e)},a.endpoint=k.baseEndpoint+"/api/cart",a.getAllProducts=function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(a.endpoint,"/").concat(t,"/products"),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),a.createCart=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});case 3:if(200!==(t=e.sent).status){e.next=10;break}return e.next=7,t.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),a.addProductToCart=function(){var e=Object(g.a)(O.a.mark((function e(t,n,r){var c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={productId:n,quantity:r},e.prev=1,e.next=4,fetch("".concat(a.endpoint,"/").concat(t,"/products"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(c)});case 4:if(200!==(s=e.sent).status){e.next=11;break}return e.next=8,s.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=null;case 12:return e.abrupt("return",e.t0);case 15:throw e.prev=15,e.t1=e.catch(1),e.t1;case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),a.removeProductFromCart=function(){var e=Object(g.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(a.endpoint,"/").concat(t,"/products/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});case 3:if(200!==(r=e.sent).status){e.next=10;break}return e.next=7,r.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),a.deleteCart=function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(a.endpoint,"/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),a.buyCart=function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(a.endpoint,"/buy/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),s),k.UserController=(i=o=function e(){Object(y.a)(this,e)},o.endpoint=k.baseEndpoint+"/api/auth",o.signupUser=function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.endpoint,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),o.loginUser=function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.endpoint,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 3:return n=e.sent,e.next=7,n.status;case 7:if(e.t0=e.sent,200!==e.t0){e.next=14;break}return e.next=11,n.json();case 11:return e.abrupt("return",e.sent);case 14:throw Error("Invalid Credentials");case 15:e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(0),e.t1;case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),o.logoutUser=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o.endpoint,"/logout"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});case 3:if(200!==(t=e.sent).status){e.next=10;break}return e.next=7,t.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),i),k.RequestsController=(u=l=function e(){Object(y.a)(this,e)},l.endpoint=k.baseEndpoint+"/api/auth",l.signupUser=function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l.endpoint,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),l.loginUser=function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l.endpoint,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});case 3:if(200!==(n=e.sent).status){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 14:throw e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),u);var w=n(0),C=j.a.createContext(),T=function(e){var t=e.defaultValue,n=void 0===t?[]:t,r=e.children,c=Object(d.useState)(n),a=Object(N.a)(c,2),s=a[0],o=a[1],i=k.CartController,l=Object(d.useState)(null),u=Object(N.a)(l,2),j=u[0],b=u[1],p=function(){var e=Object(g.a)(O.a.mark((function e(t,n){var r,c,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==j){e.next=13;break}return e.prev=1,e.next=5,i.createCart();case 5:r=e.sent,b(r.id),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),console.log("Unable to create cart"),e.abrupt("return");case 13:return c=null,c=void 0!=(null===r||void 0===r?void 0:r.id)?r.id:j,e.prev=16,a=t._id,e.next=20,i.addProductToCart(c,a,n);case 20:e.sent,e.next=27;break;case 23:return e.prev=23,e.t1=e.catch(16),console.log(e.t1),e.abrupt("return",e.t1);case 27:return e.prev=27,e.next=30,i.getAllProducts(c);case 30:s=e.sent,o(Object(v.a)(s)),e.next=38;break;case 34:return e.prev=34,e.t2=e.catch(27),console.error(e.t2),e.abrupt("return",e.t2);case 38:case"end":return e.stop()}}),e,null,[[1,9],[16,23],[27,34]])})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(g.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.removeProductFromCart(j,t);case 3:return e.sent,e.next=6,i.getAllProducts(j);case 6:n=e.sent,o(Object(v.a)(n)),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.deleteCart(j);case 3:e.sent,b(0),o([]),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)(C.Provider,{value:{cart:s,cartId:j,addItem:p,removeItem:h,clear:x,getItem:function(e){return s.find((function(t){return t.product.id===e}))},getTotalPrice:function(){return s.reduce((function(e,t){return e+t.product.price*t.quantity}),0)},getTotalItems:function(){return s.reduce((function(e,t){return e+t.quantity}),0)}},children:r})};function S(){var e=Object(d.useContext)(C);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{className:"iconify iconify-cart","data-icon":"mdi:cart-outline","data-inline":"false"}),Object(w.jsxs)("span",{className:"cart-items",children:[e.getTotalItems()," elemento",1===e.getTotalItems()?"":"s"]})]})}var P=j.a.createContext(),E=function(e){var t=e.defaultValue,n=void 0===t?null:t,r=e.children,c=Object(d.useState)(n),a=Object(N.a)(c,2),s=a[0],o=a[1];return Object(w.jsx)(P.Provider,{value:{user:s,setUser:o},children:r})},F=function(e){var t=e.category,n=k.UserController;return Object(w.jsx)("li",{className:"nav-item",children:Object(w.jsx)("a",{className:"nav-link active",onClick:function(){n.logoutUser().then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.log(e)}))},children:t.name})},t.name)},U=[{name:"Catalogo",link:"/"},{name:"Login",link:"/login"}];function I(e){return Object(w.jsx)("div",{children:Object(w.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#".concat(e.target),"aria-controls":e.target,"aria-expanded":"false","aria-label":"Toggle navigation",children:Object(w.jsx)("span",{className:"navbar-toggler-icon"})})})}var A=function(){var e=Object(d.useContext)(C),t=Object(d.useContext)(P);return Object(w.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-soft-yellow",children:Object(w.jsxs)("div",{className:"container-fluid",children:[Object(w.jsx)(h.b,{to:"/",className:"navbar-brand",children:"CT@Home"}),Object(w.jsx)(I,{target:"navbarToggler"}),Object(w.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarToggler",children:[Object(w.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:U.map((function(e){return function(e){var n=Object(m.a)({},e);return"Login"==e.name&&t.user?(n.link="/logout",n.name="Logout",Object(w.jsx)(F,{category:n})):Object(w.jsx)("li",{className:"nav-item",children:Object(w.jsx)(h.c,{exact:!0,activeClassName:"selected-link",className:"nav-link active",to:n.link,"aria-current":"page",children:n.name})},n.name)}(e)}))}),function(){if(t.user)return Object(w.jsxs)("li",{className:"nav-item",children:["Hello ",t.user.firstName]})}(),e.cart.length>0?Object(w.jsx)(h.c,{className:"nav-link-custom",exact:!0,activeClassName:"selected-link",to:"/cart",children:Object(w.jsx)(S,{})}):Object(w.jsx)(w.Fragment,{})]})]})})},L=(n(55),n(56),n(57),function(e){var t=e.stock,n=e.initial,r=e.onAdd,c=Object(d.useState)(t),a=Object(N.a)(c,2),s=a[0],o=(a[1],Object(d.useState)(n)),i=Object(N.a)(o,2),l=i[0],u=i[1],j=function(){return s>0};return Object(w.jsxs)("div",{className:"text-center",children:[Object(w.jsxs)("div",{className:"itemCountContainer",children:[Object(w.jsx)("button",{className:"btn btn-light ".concat(s<=0?"disabled":""),onClick:function(){j()&&l>1&&j()&&u(l-1)},children:"-"}),Object(w.jsx)("p",{children:l}),Object(w.jsx)("button",{className:"btn btn-light ".concat(s<=0?"disabled":""),onClick:function(){j()&&u(l+1>s?s:l+1)},children:"+"})]}),Object(w.jsx)("button",{className:"btn btn-success",onClick:function(){s>0&&r&&r(l)},children:"Agregar al carrito"})]})}),D=(n(58),function(e){var t=e.item,n=Object(d.useContext)(C),r=Object(d.useState)(0),c=Object(N.a)(r,2),a=(c[0],c[1]);return Object(w.jsxs)("div",{className:"product card",children:[Object(w.jsx)(h.c,{className:"product-link",to:"/item/".concat(t._id),children:Object(w.jsx)("img",{className:"card-img-top product-img",alt:t.name,src:"".concat(t.photo)})}),Object(w.jsxs)("div",{className:"card-body w-100",children:[Object(w.jsxs)(h.c,{className:"product-link",to:"/item/".concat(t._id),children:[Object(w.jsx)("h3",{className:"card-title",children:t.name}),Object(w.jsxs)("h5",{children:["$",t.price]})]}),t.stock<=0?Object(w.jsx)("h5",{className:"text-red",children:"Sin stock"}):Object(w.jsx)(w.Fragment,{}),Object(w.jsx)("p",{className:"card-text"}),Object(w.jsx)(L,{stock:t.stock,initial:1,onAdd:function(e){a(e),n.addItem(t,e)}})]})]})}),J=function(){var e=Object(d.useState)([]),t=Object(N.a)(e,2),n=t[0],r=t[1],c=Object(d.useState)(!0),a=Object(N.a)(c,2),s=a[0],o=a[1],i=Object(d.useState)(!1),l=Object(N.a)(i,2),u=(l[0],l[1]);function j(){return b.apply(this,arguments)}function b(){return(b=Object(g.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.ProductController,e.next=3,t.getAllProducts();case 3:null!=(n=e.sent)?r(n):u(!0),o(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.useEffect)(Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:case"end":return e.stop()}}),e)}))),[]),Object(w.jsxs)(w.Fragment,{children:[s?Object(w.jsx)("h2",{children:"Loading items..."}):n&&0==n.length?Object(w.jsx)("h2",{children:"No items"}):Object(w.jsx)(w.Fragment,{}),n&&n.length>0&&n.map((function(e){return Object(w.jsx)(D,{item:e},e.id)}))]})},q=function(e){return Object(w.jsx)("div",{className:"",children:Object(w.jsx)("div",{className:"container-fluid itemListContainer",children:Object(w.jsx)(J,{})})})},$=(n(59),function(e){var t=e.item,n=Object(d.useState)(0),r=Object(N.a)(n,2),c=r[0],a=r[1],s=Object(d.useContext)(C),o=function(e){a(e),s.addItem(t,e)};console.log(t);return null!=t?Object(w.jsxs)("div",{className:"productDetail card",children:[Object(w.jsx)("img",{className:"card-img-top product-img",alt:t.title,src:t.photo}),Object(w.jsxs)("div",{className:"card-body w-100",children:[Object(w.jsx)("h3",{className:"card-title",children:t.name}),Object(w.jsxs)("h5",{children:["$",t.price]}),t.stock<=0?Object(w.jsx)("h5",{className:"text-red",children:"Sin stock"}):Object(w.jsx)(w.Fragment,{}),Object(w.jsxs)("h6",{className:"card-text",children:["Codigo: ",t.code]}),Object(w.jsx)("p",{className:"card-text",children:t.description}),0==c?Object(w.jsx)(L,{stock:t.stock,initial:1,onAdd:o}):Object(w.jsx)("div",{className:"text-center",children:Object(w.jsx)(h.b,{className:"btn btn-success",to:"/cart",children:"Terminar Compra"})})]})]}):Object(w.jsx)("div",{children:"Loading"})}),_=(n(60),function(){var e=Object(x.g)().itemId,t=Object(d.useState)(null),n=Object(N.a)(t,2),r=n[0],c=n[1],a=Object(d.useState)(!1),s=Object(N.a)(a,2),o=s[0],i=s[1];return Object(d.useEffect)(Object(g.a)(O.a.mark((function t(){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=k.ProductController,t.next=3,n.getProduct(e);case 3:null!=(r=t.sent)?c(r):i(!0);case 5:case"end":return t.stop()}}),t)}))),[]),Object(w.jsx)("div",{className:"itemDetailContainer",children:o?Object(w.jsx)("h2",{children:"No se encontr\xf3 el item"}):r&&Object(w.jsx)($,{item:r})})}),G=function(e){var t=e.enableEdit,n=Object(d.useContext)(C);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("table",{className:"table",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{}),Object(w.jsx)("th",{children:"Producto"}),Object(w.jsx)("th",{children:"Precio"}),Object(w.jsx)("th",{children:"Cantidad"}),Object(w.jsx)("th",{children:"Total Parcial"}),t?Object(w.jsx)("th",{}):Object(w.jsx)(w.Fragment,{})]})}),Object(w.jsx)("tbody",{children:n.cart.map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("img",{style:{width:"100px",height:"100px"},src:e.product.photo})}),Object(w.jsx)("td",{children:e.product.name}),Object(w.jsxs)("td",{children:["$",e.product.price]}),Object(w.jsx)("td",{children:e.quantity}),Object(w.jsxs)("td",{children:["$",e.quantity*e.product.price]}),t?Object(w.jsxs)("td",{children:[Object(w.jsx)("button",{className:"btn btn-danger mx-1",onClick:function(){return t=e.product._id,void n.removeItem(t);var t},children:"X"}),Object(w.jsx)(h.b,{className:"btn btn-success mx-1",to:"/item/"+e.product._id,children:"Editar"})]}):Object(w.jsx)(w.Fragment,{})]})}))})]}),Object(w.jsxs)("p",{children:["Total: $",n.getTotalPrice()]})]})},V=function(){var e=Object(d.useContext)(C),t=k.CartController,n=Object(x.f)();function r(){t.buyCart(e.cartId).then((function(e){console.log(e),n.push("/")})).catch((function(e){console.log(e)}))}return Object(w.jsx)("div",{children:0===e.cart.length?Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"text-center",children:[Object(w.jsx)("p",{className:"mt-4",children:"No hay items!"}),Object(w.jsx)(h.b,{className:"btn btn-success",to:"/",children:"Volver al catalogo"})]})}):Object(w.jsxs)("div",{className:"text-center mt-4 container",children:[Object(w.jsx)(G,{enableEdit:!0}),Object(w.jsx)("button",{className:"btn btn-success",onClick:r,children:"Finalizar Compra"})]})})},H=n(14),z=function(){var e=Object(d.useState)({email:"",password:""}),t=Object(N.a)(e,2),n=t[0],r=t[1],c=Object(d.useState)(null),a=Object(N.a)(c,2),s=a[0],o=a[1],i=Object(d.useContext)(P),l=n.email,u=n.password,j=k.UserController,b=Object(x.f)(),p=function(e){r(Object(m.a)(Object(m.a)({},n),{},Object(H.a)({},e.target.name,e.target.value)))};return Object(w.jsx)("div",{className:"col-md-6 m-auto",children:Object(w.jsxs)("div",{className:"card card-body mt-5",children:[Object(w.jsx)("h1",{className:"text-center",children:"Account Login"}),Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(n),j.loginUser(n).then((function(e){var t=Object(m.a)({},e),n=Object.assign({},t);console.log(n),i.setUser(n),b.push("/")})).catch((function(e){o(e.message)}))},children:[Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"email",children:"Email"}),Object(w.jsx)("input",{placeholder:"Email",className:"form-control",type:"email",name:"email",value:l,onChange:p,required:!0})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"password",children:"Password"}),Object(w.jsx)("input",{placeholder:"Password",className:"form-control",type:"password",name:"password",value:u,onChange:p,required:!0})]}),null==s?Object(w.jsx)(w.Fragment,{}):Object(w.jsx)("p",{className:"text-danger",children:"Error while logging in. Check info."}),Object(w.jsx)("input",{type:"submit",value:"Login",className:"mt-3 btn btn-primary btn-block"})]}),Object(w.jsxs)("p",{className:"my-1",children:["Don't have an account? ",Object(w.jsx)(h.c,{to:"/signup",children:"Sign Up"})]})]})})},B=n(41),R=n.n(B),X=function(){var e=Object(x.f)(),t=Object(d.useContext)(P),n=Object(d.useState)(""),r=Object(N.a)(n,2),c=r[0],a=r[1],s=Object(d.useState)(null),o=Object(N.a)(s,2),i=o[0],l=o[1],u=Object(d.useState)({firstName:"",lastName:"",email:"",password:"",address:"",country:"",age:"",phone:"",photo:""}),j=Object(N.a)(u,2),b=j[0],p=j[1],f=k.UserController,O=b.firstName,v=b.lastName,g=b.email,y=b.password,C=b.address,T=b.country,S=b.age,E=b.phone,F=(b.photo,function(e){return p(Object(m.a)(Object(m.a)({},b),{},Object(H.a)({},e.target.name,e.target.value)))});return Object(w.jsx)("div",{className:"col-md-6 m-auto",children:Object(w.jsxs)("div",{className:"card card-body mt-5",children:[Object(w.jsx)("h1",{className:"text-center",children:"Sign Up"}),Object(w.jsxs)("form",{onSubmit:function(n){n.preventDefault(),i?(console.log(b),f.signupUser(b).then((function(n){var r=Object(m.a)({},b);delete r.password,t.setUser(r),e.push("/")})).catch((function(e){return console.log(e)}))):console.log("please upload a photo")},children:[Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"First Name"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:O,onChange:F,placeholder:"Enter your first name"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Last Name"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"lastName",value:v,onChange:F,placeholder:"Enter your last name"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Email"}),Object(w.jsx)("input",{className:"form-control",type:"email",name:"email",value:g,onChange:F,placeholder:"Enter your email"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Password"}),Object(w.jsx)("input",{className:"form-control",type:"password",name:"password",value:y,onChange:F,placeholder:"Enter your password"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Address"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"address",value:C,onChange:F,placeholder:"Enter your address"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Phone"}),Object(w.jsx)("input",{className:"form-control",type:"tel",name:"phone",value:E,onChange:F,placeholder:"Enter your phonen number"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Country"}),Object(w.jsx)("input",{className:"form-control",type:"text",name:"country",value:T,onChange:F,placeholder:"Enter your country"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Age"}),Object(w.jsx)("input",{className:"form-control",type:"number",name:"age",value:S,onChange:F,placeholder:"Enter your age"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Profile photo"}),Object(w.jsx)("input",{type:"file",name:"photo",onChange:function(e){a(e.target.files[0]),console.log(e.target.files[0])}}),Object(w.jsx)("button",{className:"mt-0  btn btn-primary btn-block",onClick:function(e){if(e.preventDefault(),c&&"string"!==typeof c){var t=new FormData;console.log(c),t.append("file",c,c.name),console.log(t),R.a.post(k.baseEndpoint+"/api/upload",t).then((function(e){a(k.baseEndpoint+"/uploads/"+e.data.file.filename),p(Object(m.a)(Object(m.a)({},b),{},{photo:e.data.file.filename})),l(!0)})).catch((function(e){console.log(e),l(!1)}))}else console.log("Invalid file")},children:"Upload"}),i?Object(w.jsx)("img",{src:c,style:{width:"256px",height:"256px"},alt:"img"}):Object(w.jsx)(w.Fragment,{}),null==i?Object(w.jsx)(w.Fragment,{}):i?Object(w.jsx)("p",{className:"text-success",children:"File uploaded successfully"}):Object(w.jsx)("p",{className:"text-danger",children:"File upload failed"})]}),Object(w.jsxs)("p",{className:"mt-2 mb-1",children:["Already have an account? ",Object(w.jsx)(h.c,{to:"/login",className:"btn btn-link",children:"Login"})]}),Object(w.jsx)("button",{className:"mt-0  btn btn-primary btn-block",children:"Submit"})]})]})})};var K=function(){return Object(w.jsx)(E,{children:Object(w.jsx)(T,{children:Object(w.jsxs)(h.a,{children:[Object(w.jsx)(A,{}),Object(w.jsxs)(x.c,{children:[Object(w.jsx)(x.a,{exact:!0,path:"/login",children:Object(w.jsx)(z,{})}),Object(w.jsx)(x.a,{exact:!0,path:"/signup",children:Object(w.jsx)(X,{})}),Object(w.jsx)(x.a,{exact:!0,path:"/cart",children:Object(w.jsx)(V,{})}),Object(w.jsx)(x.a,{exact:!0,path:"/item/:itemId",children:Object(w.jsx)(_,{})}),Object(w.jsx)(x.a,{path:"/",children:Object(w.jsx)(q,{})})]})]})})})};n(79);p.a.render(Object(w.jsx)(K,{}),document.getElementById("root"))},46:function(e,t,n){},47:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.a67164e3.chunk.js.map